@prefix fhir: <http://hl7.org/fhir/> .
@prefix owl: <http://www.w3.org/2002/07/owl#> .
@prefix rdfs: <http://www.w3.org/2000/01/rdf-schema#> .
@prefix xsd: <http://www.w3.org/2001/XMLSchema#> .

# - resource -------------------------------------------------------------------

<http://hlth.gov.bc.ca/fhir/client/CapabilityStatement/bc-hcim-capability-statement-client> a fhir:CapabilityStatement ;
  fhir:nodeRole fhir:treeRoot ;
  fhir:id [ fhir:v "bc-hcim-capability-statement-client"] ; # 
  fhir:text [
     fhir:status [ fhir:v "generated" ] ;
     fhir:div "<div xmlns=\"http://www.w3.org/1999/xhtml\"><p>This capability statement describes the use cases that are supported by the BC FHIR implementation of the Client Registry when acting as a client. I.e. when sending Patient change notifications.</p><p>A Patient change notification is accomplished by using Subscriptions. A client will register a Subscription with the Client Registry. When the Client Registry determines that a change to a Patient has occurred, it will notify all clients that have subscribed to changes of that specific type.</p><p>The outgoing response to the Subscription is a Bundle. The Bundle has two entries: One with MetadataParamtersIn for messageId, messageDate and sender, one for a ClientRegistryPatient (profile of Patient). The following table describes the request and the four parameters; all are mandatory. The Client Registry SHALL use the following IN parameters when sending a change notification.</p><table class=\"grid\"><tr><td><b>Use</b></td><td><b>Name</b></td><td><b>Cardinality</b></td><td><b>Type</b></td><td><b>Binding</b></td><td><b>Documentation</b></td></tr><tr><td>IN</td><td>ReviseRequestBundle</td><td>1..1</td><td><a href=\"StructureDefinition-bc-revise-request-bundle.html\">ReviseRequestBundle</a></td><td/><td><div><p>A Bundle with the Patient change.</p></div></td></tr><tr><td>OUT</td><td/><td/><td/><td/><td>Out is a 200 HTTP response code indicating the subscription response was recieved.</td></tr></table></div>"
  ] ; # 
  fhir:url [ fhir:v "http://hlth.gov.bc.ca/fhir/client/CapabilityStatement/bc-hcim-capability-statement-client"^^xsd:anyURI] ; # 
  fhir:version [ fhir:v "1.0.0"] ; # 
  fhir:name [ fhir:v "HCIMClientCapabilityStatement"] ; # 
  fhir:title [ fhir:v "BC HCIM Client Capability Statement"] ; # 
  fhir:status [ fhir:v "draft"] ; # 
  fhir:date [ fhir:v "2021-11-18"^^xsd:date] ; # 
  fhir:publisher [ fhir:v "BC Ministry of Health"] ; # 
  fhir:contact ( [
     fhir:name [ fhir:v "BC Ministry of Health" ] ;
     fhir:telecom ( [
       fhir:system [ fhir:v "url" ] ;
       fhir:value [ fhir:v "https://www2.gov.bc.ca/gov/content/governments/organizational-structure/ministries-organizations/ministries/health" ]
     ] )
  ] ) ; # 
  fhir:description [ fhir:v "This capability statement describes the use cases that are supported by the BC FHIR implementation of the Client Registry when it is acting as a client. I.e. sending notifications - FUTURE work."] ; # 
  fhir:jurisdiction ( [
     fhir:coding ( [
       fhir:system [ fhir:v "urn:iso:std:iso:3166"^^xsd:anyURI ] ;
       fhir:code [ fhir:v "CA" ] ;
       fhir:display [ fhir:v "Canada" ]
     ] )
  ] ) ; # 
  fhir:kind [ fhir:v "capability"] ; # 
  fhir:software [
     fhir:name [ fhir:v "BC HCIM FHIR Implementation" ]
  ] ; # 
  fhir:fhirVersion [ fhir:v "4.0.1"] ; # 
  fhir:format ( [ fhir:v "json"] ) ; # 
  fhir:rest ( [
     fhir:mode [ fhir:v "client" ] ;
     fhir:resource ( [
       fhir:extension ( [
         fhir:url [ fhir:v "http://hl7.org/fhir/uv/subscriptions-backport/StructureDefinition/capabilitystatement-subscriptiontopic-canonical"^^xsd:anyURI ] ;
         fhir:value [
           fhir:v "http://hlth.gov.bc.ca/fhir/client/SubscriptionTopic/HCIMPatientChangeDistribution"^^xsd:anyURI ;
           fhir:link <http://hlth.gov.bc.ca/fhir/client/SubscriptionTopic/HCIMPatientChangeDistribution>
         ]
       ] ) ;
       fhir:type [ fhir:v "Subscription" ] ;
       fhir:interaction ( [
         fhir:code [ fhir:v "create" ]
       ] [
         fhir:code [ fhir:v "update" ]
       ] [
         fhir:code [ fhir:v "delete" ]
       ] )
     ] )
  ] ) . # 

# -------------------------------------------------------------------------------------

